{"version":3,"sources":["lib/plugins/useItem.js"],"names":["items","require","version","Item","Vec3","module","exports","player","serv","_client","on","direction","heldItem","location","blockId","item","fromNotch","referencePosition","x","y","z","directionVector","directionToVector","position","plus","name","use_flint_and_steel","spawnMob","metadata","world"],"mappings":";;AAAA,IAAMA,QAAMC,QAAQ,gBAAR,EAA0BA,QAAQ,cAAR,EAAwBC,OAAlD,EAA2DF,KAAvE;AACA,IAAMG,OAAOF,QAAQ,iBAAR,EAA2BA,QAAQ,cAAR,EAAwBC,OAAnD,CAAb;AACA,IAAME,OAAOH,QAAQ,MAAR,EAAgBG,IAA7B;;AAEAC,OAAOC,OAAP,CAAeC,MAAf,GAAsB,UAASA,MAAT,EAAgBC,IAAhB,EACtB;AACED,SAAOE,OAAP,CAAeC,EAAf,CAAkB,aAAlB,EAAgC,YAAwC;AAAA,mFAAP,EAAO;AAAA,QAAtCC,SAAsC,QAAtCA,SAAsC;AAAA,QAA5BC,QAA4B,QAA5BA,QAA4B;AAAA,QAAnBC,QAAmB,QAAnBA,QAAmB;;AACtE,QAAIF,aAAa,CAAC,CAAd,IAAmBC,SAASE,OAAT,IAAoB,CAAC,CAAxC,IAA6C,CAACd,MAAMY,SAASE,OAAf,CAAlD,EAA2E;AAC3E,QAAMC,OAAKZ,KAAKa,SAAL,CAAeJ,QAAf,CAAX;AACA,QAAMK,oBAAoB,IAAIb,IAAJ,CAASS,SAASK,CAAlB,EAAqBL,SAASM,CAA9B,EAAiCN,SAASO,CAA1C,CAA1B;AACA,QAAMC,kBAAkBC,kBAAkBX,SAAlB,CAAxB;AACA,QAAMY,WAAWN,kBAAkBO,IAAlB,CAAuBH,eAAvB,CAAjB;;AAEA,QAAGN,KAAKU,IAAL,IAAW,iBAAd,EACElB,OAAOmB,mBAAP,CAA2BT,iBAA3B,EAA6CI,eAA7C,EAA6DE,QAA7D,EADF,KAEK,IAAGR,KAAKU,IAAL,IAAW,WAAd,EACHjB,KAAKmB,QAAL,CAAcZ,KAAKa,QAAnB,EAA4BrB,OAAOsB,KAAnC,EAAyCN,QAAzC;AACH,GAXD;AAYD,CAdD;AAeA,IAAMD,oBAAkB,CAAC,IAAIlB,IAAJ,CAAS,CAAT,EAAW,CAAC,CAAZ,EAAc,CAAd,CAAD,EAAkB,IAAIA,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb,CAAlB,EAAkC,IAAIA,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAC,CAAd,CAAlC,EAAmD,IAAIA,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb,CAAnD,EAAmE,IAAIA,IAAJ,CAAS,CAAC,CAAV,EAAY,CAAZ,EAAc,CAAd,CAAnE,EAAoF,IAAIA,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb,CAApF,CAAxB","file":"../../../lib/plugins/useItem.js","sourcesContent":["const items=require(\"minecraft-data\")(require(\"flying-squid\").version).items;\nconst Item = require(\"prismarine-item\")(require(\"flying-squid\").version);\nconst Vec3 = require(\"vec3\").Vec3;\n\nmodule.exports.player=function(player,serv)\n{\n  player._client.on(\"block_place\",({direction,heldItem,location} = {}) => {\n    if (direction == -1 || heldItem.blockId == -1 || !items[heldItem.blockId]) return;\n    const item=Item.fromNotch(heldItem);\n    const referencePosition = new Vec3(location.x, location.y, location.z);\n    const directionVector = directionToVector[direction];\n    const position = referencePosition.plus(directionVector);\n\n    if(item.name==\"flint_and_steel\")\n      player.use_flint_and_steel(referencePosition,directionVector,position);\n    else if(item.name==\"spawn_egg\")\n      serv.spawnMob(item.metadata,player.world,position);\n  });\n};\nconst directionToVector=[new Vec3(0,-1,0),new Vec3(0,1,0),new Vec3(0,0,-1),new Vec3(0,0,1),new Vec3(-1,0,0),new Vec3(1,0,0)];"]}